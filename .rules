# n8n Custom Node Development Rules (Zed)

## Project Context

n8n custom node starter repository for building community nodes with TypeScript.

## Tech Stack

- Node.js v22+, TypeScript 5.x strict
- n8n Node SDK, @n8n/node-cli

## Commands

- `npm run dev` - Development with hot reload
- `npm run build` - Production build
- `npm run lint:fix` - Fix lint issues

## Architecture

DECLARATIVE (REST APIs):
- Reference: nodes/GithubIssues/GithubIssues.node.ts
- Uses routing.send for HTTP requests
- Doc: docs/12-declarative-routing.md

PROGRAMMATIC (SDKs/Complex):
- Reference: nodes/Example/Example.node.ts
- Custom execute() method
- Doc: docs/13-custom-execute-methods.md

## File Structure

```
nodes/MyService/
├── MyService.node.ts        # Main entry
├── MyService.node.json      # Metadata
├── resources/user/          # Per-resource
│   ├── index.ts            # Operations
│   ├── create.ts           # Create
│   └── getAll.ts           # List
├── listSearch/             # Dropdowns
└── shared/transport.ts     # API wrapper
```

## Critical Rules

1. Init SDK ONCE before item loop
2. Always include pairedItem: { item: i }
3. Use this.getCredentials(), never hardcode
4. Handle errors with this.continueOnFail()
5. Register in package.json n8n section
6. Use TypeScript interfaces, avoid any

## Reference Files

- Declarative: nodes/GithubIssues/GithubIssues.node.ts
- Programmatic: nodes/Example/Example.node.ts
- Credentials: credentials/GithubIssuesApi.credentials.ts
- Resources: nodes/GithubIssues/resources/issue/
